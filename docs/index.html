<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
  <title>SBI Collect Autofill Generator</title>
  <title>SBI Collect Autofill Script Generator</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>SBI Collect Autofill Generator</h1>
  <h1>SBI Collect Autofill Script Generator</h1>

  <h2>Steps to Use</h2>
  <ol>
    <li>Install the <strong><a href="https://www.tampermonkey.net/" target="_blank">Tampermonkey extension</a></strong> in your browser.</li>
    <li>Fill in the required details below.</li>
    <li>Click <strong>“Generate Script”</strong> to get your customized autofill script.</li>
    <li>Click <strong>“Install to Tampermonkey”</strong> to open and install your script.</li>
    <li>Go to <a href="https://www.onlinesbi.sbi/sbicollect/icollecthome.htm?corpID=80633" target="_blank">SBI Collect (PCDA SWC JAIPUR)</a> — your form will be auto-filled up to the captcha.</li>
  </ol>

  <h2>Step 2: Fill Required Fields</h2>
<form id="autofill-form">
    <label>Name of Office: <input type="text" name="outref11" required></label>
    <label>Organisation: <input type="text" name="outref12" required></label>
    <label>Depositor Name: <input type="text" name="outref13" required></label>
    <label>Personnel Status: <input type="text" name="outref22" required></label>
    <label>Personnel No.: <input type="text" name="outref14" required></label>
    <label>PAN No.: <input type="text" name="outref16" required></label>
    <label>Mobile No.: <input type="text" name="outref17" required></label>
    <label>Postal Address: <input type="text" name="outref18" required></label>
    <label>Nature of Payment: <input type="text" name="outref19" required></label>
    <label>Remarks: <input type="text" name="outref23" required></label>
    <label>Amount (₹): <input type="text" name="outref21" required></label>
    <label>Customer Name: <input type="text" name="cusName" required></label>
    <label>Email: <input type="email" name="emailId" required></label>
    <label>Name of the Depositor *<br><input type="text" name="outref13" required></label>

    <label>Personnel Number *<br><input type="text" name="outref14" required></label>

    <label>PAN Number<br><input type="text" name="outref16"></label>

    <label>Mobile No. *<br><input type="text" name="outref17" required></label>

    <label>Postal Address *<br><input type="text" name="outref18" required></label>

    <label>AMOUNT IN RS. (ROUNDED) *<br><input type="text" name="outref21" required></label>

    <label>Name *<br><input type="text" name="cusName" required></label>

    <label>Email ID<br><input type="email" name="emailId"></label>

<button type="submit">Generate Script</button>
</form>

  <h2>Your Script</h2>
  <h2>Your Tampermonkey Script</h2>
<pre id="script-output"></pre>
<button id="install-btn" style="display:none;">Install to Tampermonkey</button>

<script src="template.js"></script>
<script>
const form = document.getElementById('autofill-form');
const output = document.getElementById('script-output');
const installBtn = document.getElementById('install-btn');

form.addEventListener('submit', e => {
e.preventDefault();
const formData = new FormData(form);
const values = Object.fromEntries(formData.entries());

      // Build userData JS object
      // Auto fill remaining fixed fields
const userData = JSON.stringify({
        ...values,
        outref11: "AO GE S Banar Jodhpur",
        outref12: "ARMY",
        outref22: "Serving Officer or Personnel",
outref15: "",
        transactionRemarks: "adv payment",
        dateOfBirth: new Date().toLocaleDateString("en-GB")
        outref19: "ELECTRICITY AND WATER CHARGES",
        outref23: "Reoccuring payment",
        transactionRemarks: "Advance Payment payment",
        dateOfBirth: new Date().toLocaleDateString("en-GB"),
        formInd: "formInd",
        fileOrg: "fileOrg",
        cusName12: "",
        orgName: "",
        dateOfBirth12: "",
        mobileNo12: "",
        emailId12: "",
        corporate_1: "option1",
        captchaValue: "",
        capOption: "IMG",
        ...values,
        mobileNo: values.outref17 // also copy to main mobileNo
}, null, 4);

const finalScript = template.replace("/*__USER_DATA__*/", `const userData = ${userData};`);
output.textContent = finalScript;

      // Encode and create blob install link
const blob = new Blob([finalScript], { type: 'text/javascript' });
const url = URL.createObjectURL(blob);

installBtn.style.display = "inline-block";
installBtn.onclick = () => window.open(url, "_blank");
});
</script>
</body>
</html>
